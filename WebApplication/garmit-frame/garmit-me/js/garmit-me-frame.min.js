var garmitFrame;!function(r){garmitFrame={$body:r("body"),$sidebar:r(".main-sidebar, .alarm-sidebar"),$rootContainer:r("#rootContainer"),closeTimer:null,isAnimated:!1,sidebarLength:!1,toastOptions:{showHideTransition:"fade",allowToastClose:!0,loaderBg:"#ccc",hideAfter:5e3,stack:10,position:"top-right"},mainBarOpen:function(){var a=this;this.activateMenuHoverAction(),this.mainBarScrollToTop(),this.$rootContainer.addClass("main-sidebar--open"),a.closeTimer&&clearTimeout(a.closeTimer),a.closeTimer=setTimeout(a.closeAllBalloons,500)},mainBarClose:function(){this.$rootContainer.removeClass("main-sidebar--open")},alarmBarOpen:function(){this.alarmBarScrollToTop(),this.collapseToast(),this.$rootContainer.addClass("alarm-sidebar--open")},alarmBarClose:function(){this.$rootContainer.removeClass("alarm-sidebar--open")},disableBodyScroll:function(){var a=window.innerWidth-r(window).width();r(".content-wrapper").css({"margin-right":a+"px"}),r(".main-header:after").css({"padding-right":a+"px"}),this.$.body.css({top:-r(window).scrollTop(),position:"fixed",width:"100%"})},enableBodyScroll:function(){var a=-garmitFrame.$body.offset().top;garmitFrame.$body.css({position:"",top:"",width:""}),r(".content-wrapper").css({"margin-right":0}),r(".main-header:after").css({"padding-right":0}),r(window).scrollTop(a)},closeAllBalloons:function(){r(".gnav-parent").removeClass("gnav-parent--active")},collapseToast:function(a){a||(a=".alarm-sidebar .toast"),r(a).each(function(){var a=r(this),t=a.find(".toast-action");t.length&&(t.find(".toast-action-inner").length||t.wrapInner('<div class="toast-action-inner"></div>'),a.addClass("toast-with-action toast-collapsed").find(".toast-action-inner").hide())})},collapseNewToast:function(){this.collapseToast(".alarm-sidebar .toast:not(.toast-with-action)")},controlSidebarFooter:function(){r(".main-sidebar__help").offset().top+r(".main-sidebar__help").outerHeight()-20>r(".sidebar-footer").offset().top?r(".sidebar-footer").addClass("sidebar-footer--hidden"):r(".sidebar-footer").removeClass("sidebar-footer--hidden")},toast:function(a,t){if(r.toast){var o=r(a),i=this.toastOptions;this.removeBodyToastClass(),"object"==typeof t&&r.extend(i,t),i.text=a;var e=i.afterHidden;i.afterHidden=function(a){r(".jq-toast-wrap .toast:visible").length||garmitFrame.removeBodyToastClass(),"function"==typeof e&&e(a)},r.toast(i),r(["error","warn","syserr"]).each(function(a,t){o.hasClass("toast-"+t)&&garmitFrame.$body.addClass("toast-"+t+"--activated")})}},activateMenuHoverAction:function(){this.deactivateMenuHoverAction(),r(".gnav-parent").hover(function(){var a=r(this),t=a.find(".gnav-child");a.addClass("gnav-parent--active");var o=a.offset().top,i=r(".gnav li").eq(0).offset().top,e=Math.max((a.height()-t.height())/2,i-o-a.height()/5);t.css("top",e)},function(){r(this).removeClass("gnav-parent--active")}),r(".main-sidebar__help").hover(function(){r(this).addClass("main-sidebar__help--active")},function(){r(this).removeClass("main-sidebar__help--active")})},deactivateMenuHoverAction:function(){r(".gnav-parent, .main-sidebar__help").off("mouseenter mouseleave")},setDefaultToastOptions:function(a){this.toastOptions=r.extend(this.toastOptions,a)},removeBodyToastClass:function(){garmitFrame.$body.removeClass("toast-error--activated toast-warn--activated toast-syserr--activated")},mainBarScrollToTop:function(){r(".main-sidebar .sidebar").mCustomScrollbar("scrollTo",0)},alarmBarScrollToTop:function(){r(".alarm-sidebar__inner").mCustomScrollbar("scrollTo",0)},sidebarExists:function(){return!1===this.sidebarLength&&(this.sidebarLength=this.$sidebar.length),0<this.sidebarLength},showLoading:function(){r(".garmit-loading").length||this.$body.prepend('<div class="garmit-loading"><div class="garmit-spinner"></div></div>')},hideLoading:function(){r(".garmit-spinner").hide()}},r(function(){var a="ontouchstart"in window?"touchstart click":"click";r(".main-header__logo-image").on(a,function(a){a.stopPropagation(),garmitFrame.mainBarOpen(),garmitFrame.alarmBarClose()}),r(".main-header__page-title-text").on(a,function(a){r("html,body").animate({scrollTop:0},500,"swing")}),r(".main-header__alarm-text").on(a,function(a){return a.stopPropagation(),garmitFrame.mainBarClose(),garmitFrame.alarmBarOpen(),!1}),r(".main-sidebar__title").on(a,function(a){return a.stopPropagation(),garmitFrame.mainBarClose(),!1}),r(".alarm-sidebar__close, .alarm-sidebar--close").on(a,function(a){a.stopPropagation(),garmitFrame.alarmBarClose()}),garmitFrame.$body.on(a,".content-wrapper,.main-header",function(a){garmitFrame.mainBarClose(),garmitFrame.alarmBarClose()}),garmitFrame.sidebarExists()&&r(".main-sidebar .sidebar, .alarm-sidebar__inner").mCustomScrollbar({axis:"y",autoHideScrollbar:!0,scrollInertia:20,callbacks:{whileScrolling:function(){garmitFrame.controlSidebarFooter()}}}),r(".alarm-sidebar").on(a,".toast-with-action",function(a){r(a.target).hasClass("btn")||(r(this).toggleClass("toast-collapsed"),r(this).find(".toast-action-inner").slideToggle("fast"))}),garmitFrame.sidebarExists()&&r(window).resize(function(){garmitFrame.controlSidebarFooter()}),garmitFrame.$body.addClass("garmit-ready")})}(jQuery);